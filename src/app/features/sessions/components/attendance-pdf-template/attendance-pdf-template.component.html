<div class="attendance-pdf-template" #pdfContent>
  <!-- Header -->
  <pdf-template-header [title]="'attendance.recordAttendance' | translate" />

  <div class="pdf-header">
    <div class="header-content">

      <div class="session-details">
        <div class="detail-row">
          <span class="label">{{ 'shared.labels.date' | translate }}: &nbsp;</span>
          <span class="value">{{ attendanceDisplay.sessionDate }}</span>
        </div>

        <div class="detail-row">
          <span class="label">{{ 'shared.labels.room' | translate }}: &nbsp;</span>
          <span class="value">{{ attendanceDisplay.roomName }}</span>
        </div>

      </div>

      <div class="session-details">
        <div class="detail-row">
          <span class="label">{{ 'shared.labels.course' | translate }}: &nbsp;</span>
          <span class="value">{{ attendanceDisplay.courseName }}</span>
        </div>

        <div class="detail-row">
          <span class="label">{{ 'shared.labels.group' | translate }}: &nbsp;</span>
          <span class="value">{{ attendanceDisplay.groupName }}</span>
        </div>
      </div>

    </div>
  </div>

  <!-- Attendance Table -->
  <div class="attendance-table-pdf">
    <table class="pdf-table">
      <thead>
        <tr>
          <th class="student-name-col">{{ 'attendance.table.studentName' | translate }}</th>
          <th class="attendance-col">{{ 'attendanceStatus.present' | translate }}</th>
          <th class="attendance-col">{{ 'attendanceStatus.late' | translate }}</th>
          <th class="attendance-col">{{ 'attendanceStatus.absent' | translate }}</th>
          <th class="notes-col">{{ 'shared.labels.notes' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of getFormControlArray().controls; let i = index">

          <td class="student-name">{{ record.get('studentName')?.value }}</td>

          <td class="checkbox-cell">
            <div class="checkbox" [class.checked]="record.get('status')?.value === AttendanceStatus.Present"></div>
          </td>

          <td class="checkbox-cell">
            <div class="checkbox" [class.checked]="record.get('status')?.value === AttendanceStatus.Late"></div>
          </td>

          <td class="checkbox-cell">
            <div class="checkbox" [class.checked]="record.get('status')?.value === AttendanceStatus.Absent"></div>
          </td>

          <td class="notes-cell">{{ record.get('note')?.value || '' }}</td>

        </tr>
      </tbody>
    </table>
  </div>

  <!-- Summary -->
  <div class="attendance-summary-pdf">
    <div class="summary-row">
      <span class="summary-label">{{ 'attendance.summary.total' | translate }}: &nbsp;</span>
      <span class="summary-value">{{ totalStudents }}</span>
    </div>
    <div class="summary-row">
      <span class="summary-label">{{ 'attendanceStatus.present' | translate }}: &nbsp;</span>
      <span class="summary-value">{{ presentStudents }}</span>
    </div>
    <div class="summary-row">
      <span class="summary-label">{{ 'attendanceStatus.late' | translate }}: &nbsp;</span>
      <span class="summary-value">{{ lateStudents }}</span>
    </div>
    <div class="summary-row">
      <span class="summary-label">{{ 'attendanceStatus.absent' | translate }}: &nbsp;</span>
      <span class="summary-value">{{ absentStudents }}</span>
    </div>
  </div>

  <!-- Footer -->
  <div class="pdf-footer">
    <div class="teacher-signature">
      <div class="signature-line"></div>
      <span class="signature-label">{{ 'shared.labels.teacherSignature' | translate }}</span>
    </div>
    <div class="date-signed">
      <div class="signature-line"></div>
      <span class="signature-label">{{ 'shared.labels.dateSigned' | translate }}</span>
    </div>
  </div>

  <!-- Footer -->
  <pdf-template-footer />
</div>