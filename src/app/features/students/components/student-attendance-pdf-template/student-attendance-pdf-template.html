<div class="student-attendance-pdf-template" #pdfContent>
  <!-- Header -->
  <div class="pdf-header">
    <div class="header-content">

      <div class="d-flex justify-content-between top-header">
        <div>
          <h1 class="pdf-title mb-2">{{ 'students.attendanceReport' | translate }}:
            <span class="student-name text-muted">{{ student.name }} ({{ student.code}})</span>
          </h1>
        </div>
      </div>

    </div>
  </div>

  <!-- Summary Statistics -->
  <div class="attendance-summary-pdf">
    <h3 class="summary-title">{{ 'students.attendanceSummary' | translate }}:
      <span class="text-muted"> {{ selectedYear }}</span>
    </h3>

    <div class="summary-grid">
      <div class="summary-card">
        <div class="summary-value total">{{ total }}</div>
        <div class="summary-label">{{ 'shared.fields.total' | translate }}</div>
      </div>

      <div class="summary-card">
        <div class="summary-value present">{{ present }}</div>
        <div class="summary-label">{{ 'shared.attendanceStatus.present' | translate }}</div>
      </div>

      <div class="summary-card">
        <div class="summary-value absent">{{ absent }}</div>
        <div class="summary-label">{{ 'shared.attendanceStatus.absent' | translate }}</div>
      </div>

      <div class="summary-card">
        <div class="summary-value late">{{ late }}</div>
        <div class="summary-label">{{ 'shared.attendanceStatus.late' | translate }}</div>
      </div>

      <div class="summary-card">
        <div class="summary-value percentage">{{ attendancePercentage }}%</div>
        <div class="summary-label">{{ 'students.attendancePercentage' | translate }}</div>
      </div>
    </div>
  </div>

  <!-- Monthly Breakdown Table -->
  <div class="monthly-breakdown-pdf">
    <h3 class="breakdown-title">{{ 'students.monthlyBreakdown' | translate }} </h3>

    <table class="pdf-table">
      <thead>
        <tr>
          <th class="month-col">{{ 'shared.fields.month' | translate }}</th>
          <th class="attendance-col">{{ 'shared.attendanceStatus.present' | translate }}</th>
          <th class="attendance-col">{{ 'shared.attendanceStatus.late' | translate }}</th>
          <th class="attendance-col">{{ 'shared.attendanceStatus.absent' | translate }}</th>
          <th class="total-col">{{ 'shared.fields.total' | translate }}</th>
          <th class="percentage-col">{{ 'students.attendancePercentage' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let monthNumber of [1,2,3,4,5,6,7,8,9,10,11,12]">
          <td class="month-name text-muted">{{ getMonthName(monthNumber) }}</td>
          <td class="present-count">{{ getMonthData(monthNumber)?.present || 0 }}</td>
          <td class="late-count">{{ getMonthData(monthNumber)?.late || 0 }}</td>
          <td class="absent-count">{{ getMonthData(monthNumber)?.absent || 0 }}</td>
          <td class="month-total">{{ (getMonthData(monthNumber)?.present || 0) + (getMonthData(monthNumber)?.late || 0)
            + (getMonthData(monthNumber)?.absent || 0) }}</td>
          <td class="month-percentage text-center">
            {{ getMonthData(monthNumber) && (getMonthData(monthNumber)!.present + getMonthData(monthNumber)!.late +
            getMonthData(monthNumber)!.absent) > 0
            ? (((getMonthData(monthNumber)!.present / (getMonthData(monthNumber)!.present +
            getMonthData(monthNumber)!.late + getMonthData(monthNumber)!.absent)) * 100).toFixed(1))
            : '0.0' }}%
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Performance Analysis -->
  <div class="performance-analysis-pdf">
    <h3 class="analysis-title">{{ 'students.performanceAnalysis' | translate }}</h3>

    <div class="analysis-content">
      <div class="analysis-item">
        <div class="analysis-label">{{ 'students.bestMonth' | translate }}</div>
        <div class="analysis-value">{{ getBestMonth() }}</div>
      </div>

      <div class="analysis-item">
        <div class="analysis-label">{{ 'students.worstMonth' | translate }}</div>
        <div class="analysis-value">{{ getWorstMonth() }}</div>
      </div>

      <div class="analysis-item">
        <div class="analysis-label">{{ 'students.overallPerformance' | translate }}</div>
        <div class="analysis-value" [class]="getPerformanceClass()">{{ getPerformanceRating() }}</div>
      </div>
    </div>
  </div>

  <!-- Footer -->

  <div class="pdf-footer d-none">
    <div class="teacher-signature">
      <div class="signature-line"></div>
      <span class="signature-label">{{ 'shared.teacherSignature' | translate }}</span>
    </div>
    <div class="date-signed">
      <div class="signature-line"></div>
      <span class="signature-label">{{ 'shared.dateSigned' | translate }}</span>
    </div>
  </div>

  
  <div class="pdf-footer">

    <div class="export-info">
      <span class="info-label">{{ 'shared.fields.printedOn' | translate }}: {{ exportDate }}</span>
    </div>

  </div>

</div>